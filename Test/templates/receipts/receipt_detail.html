{% extends 'base.html' %}

{% block content %}
  <h2>{{ receipt }}</h2>
  
  <!-- Display receipt details -->
  <p>Store: {{ receipt.store_name }}</p>
  <p>Date of Purchase: {{ receipt.date_of_purchase }}</p>
  <p>Items: {{ receipt.item_list }}</p>
  <p>Total Amount: {{ receipt.total_amount }}</p>
  
  <!-- Edit button to reveal the form -->
  <button id="edit-button">Edit</button>
  
  <!-- Edit form (hidden by default) -->
  <form id="edit-form" method="post" enctype="multipart/form-data" style="display: none;">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Save Changes</button>
  </form>
  
  <!-- Link to go back to the receipt list -->
  <a href="{% url 'receipt_list' %}">Back to Receipt List</a>

  <script>
    // JavaScript to toggle the visibility of the edit form
    document.getElementById('edit-button').addEventListener('click', function() {
      document.getElementById('edit-form').style.display = 'block';
    });
  </script>
{% endblock %}
